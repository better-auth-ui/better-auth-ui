{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "sign-out",
  "title": "Sign Out",
  "description": "A component that signs the user out when mounted and displays a loading state.",
  "dependencies": [
    "@better-auth-ui/react@*",
    "better-auth"
  ],
  "registryDependencies": [
    "card",
    "spinner"
  ],
  "files": [
    {
      "path": "src/components/auth/sign-out.tsx",
      "content": "\"use client\"\n\nimport { useEffect, useRef } from \"react\"\n\nimport { Card, CardContent } from \"@/components/ui/card\"\nimport { Spinner } from \"@/components/ui/spinner\"\nimport { useSignOut } from \"@/hooks/auth/use-sign-out\"\nimport { cn } from \"@/lib/utils\"\n\nexport type SignOutProps = {\n  className?: string\n}\n\n/**\n * Signs the current user out when mounted and displays a loading card while the operation completes.\n */\nexport function SignOut({ className }: SignOutProps) {\n  const { signOut } = useSignOut()\n\n  const hasSignedOut = useRef(false)\n\n  useEffect(() => {\n    if (hasSignedOut.current) return\n    hasSignedOut.current = true\n\n    signOut()\n  }, [signOut])\n\n  return (\n    <Card\n      className={cn(\n        \"w-full max-w-sm py-4 md:py-6 gap-6 bg-transparent border-none\",\n        className\n      )}\n    >\n      <CardContent className=\"flex items-center justify-center min-h-[200px]\">\n        <Spinner className=\"mx-auto my-auto\" />\n      </CardContent>\n    </Card>\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/hooks/auth/use-sign-out.ts",
      "content": "export { useSignOut } from \"@better-auth-ui/react\"\n",
      "type": "registry:hook"
    },
    {
      "path": "../react/src/hooks/auth/use-sign-out.ts",
      "content": "import { useAuth } from \"@better-auth-ui/react\"\nimport { useQueryClient } from \"@tanstack/react-query\"\nimport { useCallback } from \"react\"\n\nexport function useSignOut() {\n  const queryClient = useQueryClient()\n  const { authClient, basePaths, viewPaths, replace, toast } = useAuth()\n\n  const signOut = useCallback(async () => {\n    const { error } = await authClient.signOut()\n\n    if (error) {\n      toast.error(error.message || error.statusText)\n    }\n\n    await queryClient.invalidateQueries({ queryKey: [\"auth\"] })\n\n    replace(`${basePaths.auth}/${viewPaths.auth.signIn}`)\n  }, [\n    authClient,\n    basePaths.auth,\n    viewPaths.auth.signIn,\n    replace,\n    queryClient,\n    toast.error\n  ])\n\n  return { signOut }\n}\n",
      "type": "registry:hook"
    }
  ],
  "type": "registry:component"
}