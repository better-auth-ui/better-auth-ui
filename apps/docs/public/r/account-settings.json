{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "account-settings",
  "title": "Account Settings",
  "description": "A container component that displays account settings including user profile and change email.",
  "dependencies": [
    "@better-auth-ui/react@*"
  ],
  "registryDependencies": [
    "user-profile",
    "change-email"
  ],
  "files": [
    {
      "path": "src/components/settings/account/account-settings.tsx",
      "content": "\"use client\"\n\nimport type { AnyAuthConfig } from \"@better-auth-ui/react\"\n\nimport { useAuth } from \"@/hooks/auth/use-auth\"\nimport { cn } from \"@/lib/utils\"\nimport { Accounts } from \"./accounts\"\nimport { ChangeEmail } from \"./change-email\"\nimport { UserProfile } from \"./user-profile\"\n\nexport type AccountSettingsProps = AnyAuthConfig & {\n  className?: string\n}\n\n/**\n * Renders the account settings layout including user profile, change email, and accounts management.\n *\n * @param className - Optional additional CSS class names for the outer container.\n * @param config - Auth-related props forwarded to the UserProfile, ChangeEmail, and Accounts components.\n * @returns A JSX element containing a styled container that renders the user profile, change email, and accounts management.\n */\nexport function AccountSettings({\n  className,\n  ...config\n}: AccountSettingsProps) {\n  const { multiSession } = useAuth(config)\n\n  return (\n    <div className={cn(\"flex w-full flex-col gap-4 md:gap-6\", className)}>\n      <UserProfile {...config} />\n\n      <ChangeEmail {...config} />\n\n      {multiSession && <Accounts {...config} />}\n    </div>\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/settings/account/user-profile.tsx",
      "content": "\"use client\"\n\nimport { type AnyAuthConfig, useUpdateUser } from \"@better-auth-ui/react\"\nimport { Pencil, Save } from \"lucide-react\"\nimport { useState } from \"react\"\n\nimport { Button } from \"@/components/ui/button\"\nimport {\n  Card,\n  CardContent,\n  CardFooter,\n  CardHeader,\n  CardTitle\n} from \"@/components/ui/card\"\nimport { Field, FieldError, FieldLabel } from \"@/components/ui/field\"\nimport { Input } from \"@/components/ui/input\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport { Spinner } from \"@/components/ui/spinner\"\nimport { UserAvatar } from \"@/components/user/user-avatar\"\nimport { useAuth } from \"@/hooks/auth/use-auth\"\nimport { useSession } from \"@/hooks/auth/use-session\"\nimport { cn } from \"@/lib/utils\"\n\nexport type UserProfileProps = AnyAuthConfig & {\n  className?: string\n}\n\n/**\n * Render the current user's profile editor UI.\n *\n * Renders a form that displays the user's avatar and identity, lets the user edit their name with inline validation, and submit changes. While session data is loading it renders a skeleton variant; while a submit is pending it disables inputs and shows a spinner.\n *\n * @param className - Optional additional CSS class names applied to the card container\n * @param config - Authentication/configuration options forwarded to auth and user-update hooks\n * @returns A React element containing the user profile form and controls\n */\nexport function UserProfile({ className, ...config }: UserProfileProps) {\n  const context = useAuth(config)\n  const { localization } = context\n\n  const { data: sessionData } = useSession(context)\n  const [state, formAction, isPending] = useUpdateUser(context)\n\n  const [fieldErrors, setFieldErrors] = useState<{\n    name?: string\n  }>({})\n\n  return (\n    <form action={formAction}>\n      <Card className={cn(\"w-full py-4 md:py-6 gap-4 md:gap-6\", className)}>\n        <CardHeader className=\"px-4 md:px-6 gap-0\">\n          <CardTitle className=\"text-xl\">\n            {localization.settings.profile}\n          </CardTitle>\n        </CardHeader>\n\n        <CardContent className=\"px-4 md:px-6 grid gap-4 md:gap-6\">\n          <div className=\"flex items-center gap-2.5\">\n            <Button\n              type=\"button\"\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"relative p-0 h-auto w-auto rounded-full\"\n              disabled={!sessionData}\n            >\n              <UserAvatar {...config} className=\"size-12 text-base\" />\n\n              <span className=\"absolute right-0 bottom-0 size-4 rounded-full bg-background ring-2 ring-secondary flex items-center justify-center\">\n                <Pencil className=\"size-2 text-muted-foreground\" />\n              </span>\n            </Button>\n\n            {sessionData ? (\n              <div className=\"grid flex-1 text-left text-sm leading-tight\">\n                <span className=\"truncate font-medium\">\n                  {sessionData?.user?.displayUsername ||\n                    sessionData?.user?.name ||\n                    sessionData?.user?.email}\n                </span>\n\n                {(sessionData?.user?.displayUsername ||\n                  sessionData?.user?.name) && (\n                  <span className=\"text-muted-foreground truncate text-xs\">\n                    {sessionData?.user?.email}\n                  </span>\n                )}\n              </div>\n            ) : (\n              <div className=\"flex flex-col gap-1\">\n                <Skeleton className=\"h-4 w-24 mt-0.5\" />\n                <Skeleton className=\"h-3 w-32\" />\n              </div>\n            )}\n          </div>\n\n          <Field className=\"gap-1\">\n            <FieldLabel htmlFor=\"name\">{localization.auth.name}</FieldLabel>\n\n            {sessionData ? (\n              <Input\n                key={sessionData?.user?.name}\n                id=\"name\"\n                name=\"name\"\n                autoComplete=\"name\"\n                defaultValue={sessionData?.user?.name || state.name}\n                placeholder={localization.auth.name}\n                disabled={isPending}\n                required\n                onChange={() => {\n                  setFieldErrors((prev) => ({\n                    ...prev,\n                    name: undefined\n                  }))\n                }}\n                onInvalid={(e) => {\n                  e.preventDefault()\n                  setFieldErrors((prev) => ({\n                    ...prev,\n                    name: (e.target as HTMLInputElement).validationMessage\n                  }))\n                }}\n                aria-invalid={!!fieldErrors.name}\n              />\n            ) : (\n              <Skeleton className=\"h-9 w-full\" />\n            )}\n\n            <FieldError>{fieldErrors.name}</FieldError>\n          </Field>\n        </CardContent>\n\n        <CardFooter className=\"px-4 md:px-6\">\n          <Button type=\"submit\" disabled={isPending || !sessionData}>\n            {isPending ? <Spinner /> : <Save />}\n\n            {localization.settings.saveChanges}\n          </Button>\n        </CardFooter>\n      </Card>\n    </form>\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/settings/account/change-email.tsx",
      "content": "\"use client\"\n\nimport { type AnyAuthConfig, useChangeEmail } from \"@better-auth-ui/react\"\nimport { Check } from \"lucide-react\"\nimport { useState } from \"react\"\n\nimport { Button } from \"@/components/ui/button\"\nimport {\n  Card,\n  CardContent,\n  CardFooter,\n  CardHeader,\n  CardTitle\n} from \"@/components/ui/card\"\nimport { Field, FieldError, FieldLabel } from \"@/components/ui/field\"\nimport { Input } from \"@/components/ui/input\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport { Spinner } from \"@/components/ui/spinner\"\nimport { useAuth } from \"@/hooks/auth/use-auth\"\nimport { useSession } from \"@/hooks/auth/use-session\"\nimport { cn } from \"@/lib/utils\"\n\nexport type ChangeEmailProps = AnyAuthConfig & {\n  className?: string\n}\n\n/**\n * Display and edit the authenticated user's email address in a card-based form.\n *\n * Renders a loading skeleton while the session is pending. When loaded, shows\n * the current email address and a form to update it. A verification email will\n * be sent to the new address upon submission.\n *\n * @returns A JSX element containing the change email card and form\n */\nexport function ChangeEmail({ className, ...config }: ChangeEmailProps) {\n  const context = useAuth(config)\n  const { localization } = context\n  const { data: sessionData } = useSession(context)\n\n  const [state, formAction, isPending] = useChangeEmail(context)\n\n  const [fieldErrors, setFieldErrors] = useState<{\n    email?: string\n  }>({})\n\n  return (\n    <form action={formAction}>\n      <Card className={cn(\"w-full py-4 md:py-6 gap-4 md:gap-6\", className)}>\n        <CardHeader className=\"px-4 md:px-6 gap-0\">\n          <CardTitle className=\"text-xl\">\n            {localization.settings.changeEmail}\n          </CardTitle>\n        </CardHeader>\n\n        <CardContent className=\"px-4 md:px-6 grid gap-4 md:gap-6\">\n          <Field className=\"gap-1\">\n            <FieldLabel htmlFor=\"email\">{localization.auth.email}</FieldLabel>\n\n            {sessionData ? (\n              <Input\n                key={sessionData?.user?.email}\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                autoComplete=\"email\"\n                defaultValue={sessionData?.user?.email || state.email}\n                placeholder={localization.auth.emailPlaceholder}\n                disabled={isPending}\n                required\n                onChange={() => {\n                  setFieldErrors((prev) => ({\n                    ...prev,\n                    email: undefined\n                  }))\n                }}\n                onInvalid={(e) => {\n                  e.preventDefault()\n                  setFieldErrors((prev) => ({\n                    ...prev,\n                    email: (e.target as HTMLInputElement).validationMessage\n                  }))\n                }}\n                aria-invalid={!!fieldErrors.email}\n              />\n            ) : (\n              <Skeleton className=\"h-9 w-full\" />\n            )}\n\n            <FieldError>{fieldErrors.email}</FieldError>\n          </Field>\n        </CardContent>\n\n        <CardFooter className=\"px-4 md:px-6\">\n          <Button type=\"submit\" disabled={isPending || !sessionData}>\n            {isPending ? <Spinner /> : <Check />}\n\n            {localization.settings.updateEmail}\n          </Button>\n        </CardFooter>\n      </Card>\n    </form>\n  )\n}\n",
      "type": "registry:component"
    }
  ],
  "type": "registry:component"
}