{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "appearance",
  "title": "Appearance",
  "description": "A theme selector card with visual theme previews for system, light, and dark themes.",
  "dependencies": [
    "@better-auth-ui/react@*",
    "lucide-react"
  ],
  "registryDependencies": [
    "card",
    "label",
    "radio-group"
  ],
  "files": [
    {
      "path": "src/components/settings/account/appearance.tsx",
      "content": "\"use client\"\n\nimport type { AnyAuthConfig } from \"@better-auth-ui/react\"\nimport { Monitor, Moon, Sun } from \"lucide-react\"\n\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport {\n  Field,\n  FieldContent,\n  FieldLabel,\n  FieldTitle\n} from \"@/components/ui/field\"\nimport { Label } from \"@/components/ui/label\"\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\"\nimport { useAuth } from \"@/hooks/auth/use-auth\"\nimport { useHydrated } from \"@/hooks/use-hydrated\"\nimport { cn } from \"@/lib/utils\"\n\nexport type AppearanceProps = AnyAuthConfig & {\n  className?: string\n}\n\nfunction ThemePreviewSystem(props: React.SVGProps<SVGSVGElement>) {\n  return (\n    <svg\n      fill=\"none\"\n      viewBox=\"0 0 240 117\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      role=\"img\"\n      aria-label=\"System theme preview\"\n      {...props}\n    >\n      <defs>\n        {/* Diagonal clip for light (top-left) */}\n        <clipPath id=\"systemDiagonalLight\">\n          <polygon points=\"0,0 240,0 0,117\" />\n        </clipPath>\n        {/* Diagonal clip for dark (bottom-right) */}\n        <clipPath id=\"systemDiagonalDark\">\n          <polygon points=\"240,0 240,117 0,117\" />\n        </clipPath>\n      </defs>\n\n      {/* Light side (top-left diagonal) */}\n      <g clipPath=\"url(#systemDiagonalLight)\">\n        <path\n          d=\"M12 0.5H228C234.351 0.5 239.5 5.64873 239.5 12V105C239.5 111.351 234.351 116.5 228 116.5H12C5.64873 116.5 0.5 111.351 0.5 105V12C0.5 5.64873 5.64873 0.5 12 0.5Z\"\n          fill=\"white\"\n        />\n        <path\n          d=\"M12 0.5H228C234.351 0.5 239.5 5.64873 239.5 12V105C239.5 111.351 234.351 116.5 228 116.5H12C5.64873 116.5 0.5 111.351 0.5 105V12C0.5 5.64873 5.64873 0.5 12 0.5Z\"\n          stroke=\"#E4E4E7\"\n        />\n        <path\n          d=\"M32 48.5C32 45.4624 34.4624 43 37.5 43H67.5C70.5376 43 73 45.4624 73 48.5C73 51.5376 70.5376 54 67.5 54H37.5C34.4624 54 32 51.5376 32 48.5Z\"\n          fill=\"#F4F4F5\"\n        />\n        <path\n          d=\"M17 105C17 101.686 19.6863 99 23 99H67C70.3137 99 73 101.686 73 105C73 108.314 70.3137 111 67 111H23C19.6863 111 17 108.314 17 105Z\"\n          fill=\"#F4F4F5\"\n        />\n        <path\n          d=\"M88 25.5C88 22.4624 90.4624 20 93.5 20H207.5C210.538 20 213 22.4624 213 25.5C213 28.5376 210.538 31 207.5 31H93.5C90.4624 31 88 28.5376 88 25.5Z\"\n          fill=\"#E4E4E7\"\n        />\n        <path\n          d=\"M88 105C88 101.686 90.6863 99 94 99H189C192.314 99 195 101.686 195 105C195 108.314 192.314 111 189 111H94C90.6863 111 88 108.314 88 105Z\"\n          fill=\"#F4F4F5\"\n        />\n        <path\n          d=\"M88 51C88 46.5817 91.5817 43 96 43H221C225.418 43 229 46.5817 229 51V85C229 89.4183 225.418 93 221 93H96C91.5817 93 88 89.4183 88 85V51Z\"\n          fill=\"#F4F4F5\"\n        />\n        <path\n          d=\"M17 48.5C17 45.4624 19.4624 43 22.5 43C25.5376 43 28 45.4624 28 48.5C28 51.5376 25.5376 54 22.5 54C19.4624 54 17 51.5376 17 48.5Z\"\n          fill=\"#F4F4F5\"\n        />\n        <path\n          d=\"M17 66.5C17 63.4624 19.4624 61 22.5 61C25.5376 61 28 63.4624 28 66.5C28 69.5376 25.5376 72 22.5 72C19.4624 72 17 69.5376 17 66.5Z\"\n          fill=\"#F4F4F5\"\n        />\n        <path\n          d=\"M17 86.5C17 83.4624 19.4624 81 22.5 81C25.5376 81 28 83.4624 28 86.5V87.5C28 90.5376 25.5376 93 22.5 93C19.4624 93 17 90.5376 17 87.5V86.5Z\"\n          fill=\"#F4F4F5\"\n        />\n        <path\n          d=\"M32 25.5C32 22.4624 34.4624 20 37.5 20H67.5C70.5376 20 73 22.4624 73 25.5C73 28.5376 70.5376 31 67.5 31H37.5C34.4624 31 32 28.5376 32 25.5Z\"\n          fill=\"#E4E4E7\"\n        />\n        <path\n          d=\"M32 66.5C32 63.4624 34.4624 61 37.5 61H67.5C70.5376 61 73 63.4624 73 66.5C73 69.5376 70.5376 72 67.5 72H37.5C34.4624 72 32 69.5376 32 66.5Z\"\n          fill=\"#F4F4F5\"\n        />\n        <path\n          d=\"M32 87C32 83.6863 34.6863 81 38 81H67C70.3137 81 73 83.6863 73 87C73 90.3137 70.3137 93 67 93H38C34.6863 93 32 90.3137 32 87Z\"\n          fill=\"#F4F4F5\"\n        />\n        <circle cx=\"22.5\" cy=\"25.5\" fill=\"#E4E4E7\" r=\"5.5\" />\n      </g>\n\n      {/* Dark side (bottom-right diagonal) */}\n      <g clipPath=\"url(#systemDiagonalDark)\">\n        <path\n          d=\"M12 0.5H228C234.351 0.5 239.5 5.64873 239.5 12V105C239.5 111.351 234.351 116.5 228 116.5H12C5.64873 116.5 0.5 111.351 0.5 105V12C0.5 5.64873 5.64873 0.5 12 0.5Z\"\n          fill=\"black\"\n        />\n        <path\n          d=\"M12 0.5H228C234.351 0.5 239.5 5.64873 239.5 12V105C239.5 111.351 234.351 116.5 228 116.5H12C5.64873 116.5 0.5 111.351 0.5 105V12C0.5 5.64873 5.64873 0.5 12 0.5Z\"\n          stroke=\"#3F3F46\"\n        />\n        <path\n          d=\"M32 48.5C32 45.4624 34.4624 43 37.5 43H67.5C70.5376 43 73 45.4624 73 48.5C73 51.5376 70.5376 54 67.5 54H37.5C34.4624 54 32 51.5376 32 48.5Z\"\n          fill=\"#27272A\"\n        />\n        <path\n          d=\"M17 105C17 101.686 19.6863 99 23 99H67C70.3137 99 73 101.686 73 105C73 108.314 70.3137 111 67 111H23C19.6863 111 17 108.314 17 105Z\"\n          fill=\"#27272A\"\n        />\n        <path\n          d=\"M88 25.5C88 22.4624 90.4624 20 93.5 20H207.5C210.538 20 213 22.4624 213 25.5C213 28.5376 210.538 31 207.5 31H93.5C90.4624 31 88 28.5376 88 25.5Z\"\n          fill=\"#3F3F46\"\n        />\n        <path\n          d=\"M88 105C88 101.686 90.6863 99 94 99H189C192.314 99 195 101.686 195 105C195 108.314 192.314 111 189 111H94C90.6863 111 88 108.314 88 105Z\"\n          fill=\"#27272A\"\n        />\n        <path\n          d=\"M88 51C88 46.5817 91.5817 43 96 43H221C225.418 43 229 46.5817 229 51V85C229 89.4183 225.418 93 221 93H96C91.5817 93 88 89.4183 88 85V51Z\"\n          fill=\"#27272A\"\n        />\n        <path\n          d=\"M17 48.5C17 45.4624 19.4624 43 22.5 43C25.5376 43 28 45.4624 28 48.5C28 51.5376 25.5376 54 22.5 54C19.4624 54 17 51.5376 17 48.5Z\"\n          fill=\"#27272A\"\n        />\n        <path\n          d=\"M17 66.5C17 63.4624 19.4624 61 22.5 61C25.5376 61 28 63.4624 28 66.5C28 69.5376 25.5376 72 22.5 72C19.4624 72 17 69.5376 17 66.5Z\"\n          fill=\"#27272A\"\n        />\n        <path\n          d=\"M17 86.5C17 83.4624 19.4624 81 22.5 81C25.5376 81 28 83.4624 28 86.5V87.5C28 90.5376 25.5376 93 22.5 93C19.4624 93 17 90.5376 17 87.5V86.5Z\"\n          fill=\"#27272A\"\n        />\n        <path\n          d=\"M32 25.5C32 22.4624 34.4624 20 37.5 20H67.5C70.5376 20 73 22.4624 73 25.5C73 28.5376 70.5376 31 67.5 31H37.5C34.4624 31 32 28.5376 32 25.5Z\"\n          fill=\"#3F3F46\"\n        />\n        <path\n          d=\"M32 66.5C32 63.4624 34.4624 61 37.5 61H67.5C70.5376 61 73 63.4624 73 66.5C73 69.5376 70.5376 72 67.5 72H37.5C34.4624 72 32 69.5376 32 66.5Z\"\n          fill=\"#27272A\"\n        />\n        <path\n          d=\"M32 87C32 83.6863 34.6863 81 38 81H67C70.3137 81 73 83.6863 73 87C73 90.3137 70.3137 93 67 93H38C34.6863 93 32 90.3137 32 87Z\"\n          fill=\"#27272A\"\n        />\n        <circle cx=\"22.5\" cy=\"25.5\" fill=\"#3F3F46\" r=\"5.5\" />\n      </g>\n    </svg>\n  )\n}\n\nfunction ThemePreviewLight(props: React.SVGProps<SVGSVGElement>) {\n  return (\n    <svg\n      fill=\"none\"\n      viewBox=\"0 0 240 117\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      role=\"img\"\n      aria-label=\"Light\"\n      {...props}\n    >\n      <path\n        d=\"M12 0.5H228C234.351 0.5 239.5 5.64873 239.5 12V105C239.5 111.351 234.351 116.5 228 116.5H12C5.64873 116.5 0.5 111.351 0.5 105V12C0.5 5.64873 5.64873 0.5 12 0.5Z\"\n        fill=\"white\"\n      />\n      <path\n        d=\"M12 0.5H228C234.351 0.5 239.5 5.64873 239.5 12V105C239.5 111.351 234.351 116.5 228 116.5H12C5.64873 116.5 0.5 111.351 0.5 105V12C0.5 5.64873 5.64873 0.5 12 0.5Z\"\n        stroke=\"#E4E4E7\"\n      />\n      <path\n        d=\"M32 48.5C32 45.4624 34.4624 43 37.5 43H67.5C70.5376 43 73 45.4624 73 48.5C73 51.5376 70.5376 54 67.5 54H37.5C34.4624 54 32 51.5376 32 48.5Z\"\n        fill=\"#F4F4F5\"\n      />\n      <path\n        d=\"M17 105C17 101.686 19.6863 99 23 99H67C70.3137 99 73 101.686 73 105C73 108.314 70.3137 111 67 111H23C19.6863 111 17 108.314 17 105Z\"\n        fill=\"#F4F4F5\"\n      />\n      <path\n        d=\"M88 25.5C88 22.4624 90.4624 20 93.5 20H207.5C210.538 20 213 22.4624 213 25.5C213 28.5376 210.538 31 207.5 31H93.5C90.4624 31 88 28.5376 88 25.5Z\"\n        fill=\"#E4E4E7\"\n      />\n      <path\n        d=\"M88 105C88 101.686 90.6863 99 94 99H189C192.314 99 195 101.686 195 105C195 108.314 192.314 111 189 111H94C90.6863 111 88 108.314 88 105Z\"\n        fill=\"#F4F4F5\"\n      />\n      <path\n        d=\"M88 51C88 46.5817 91.5817 43 96 43H221C225.418 43 229 46.5817 229 51V85C229 89.4183 225.418 93 221 93H96C91.5817 93 88 89.4183 88 85V51Z\"\n        fill=\"#F4F4F5\"\n      />\n      <path\n        d=\"M17 48.5C17 45.4624 19.4624 43 22.5 43C25.5376 43 28 45.4624 28 48.5C28 51.5376 25.5376 54 22.5 54C19.4624 54 17 51.5376 17 48.5Z\"\n        fill=\"#F4F4F5\"\n      />\n      <path\n        d=\"M17 66.5C17 63.4624 19.4624 61 22.5 61C25.5376 61 28 63.4624 28 66.5C28 69.5376 25.5376 72 22.5 72C19.4624 72 17 69.5376 17 66.5Z\"\n        fill=\"#F4F4F5\"\n      />\n      <path\n        d=\"M17 86.5C17 83.4624 19.4624 81 22.5 81C25.5376 81 28 83.4624 28 86.5V87.5C28 90.5376 25.5376 93 22.5 93C19.4624 93 17 90.5376 17 87.5V86.5Z\"\n        fill=\"#F4F4F5\"\n      />\n      <path\n        d=\"M32 25.5C32 22.4624 34.4624 20 37.5 20H67.5C70.5376 20 73 22.4624 73 25.5C73 28.5376 70.5376 31 67.5 31H37.5C34.4624 31 32 28.5376 32 25.5Z\"\n        fill=\"#E4E4E7\"\n      />\n      <path\n        d=\"M32 66.5C32 63.4624 34.4624 61 37.5 61H67.5C70.5376 61 73 63.4624 73 66.5C73 69.5376 70.5376 72 67.5 72H37.5C34.4624 72 32 69.5376 32 66.5Z\"\n        fill=\"#F4F4F5\"\n      />\n      <path\n        d=\"M32 87C32 83.6863 34.6863 81 38 81H67C70.3137 81 73 83.6863 73 87C73 90.3137 70.3137 93 67 93H38C34.6863 93 32 90.3137 32 87Z\"\n        fill=\"#F4F4F5\"\n      />\n      <circle cx=\"22.5\" cy=\"25.5\" fill=\"#E4E4E7\" r=\"5.5\" />\n    </svg>\n  )\n}\n\nfunction ThemePreviewDark(props: React.SVGProps<SVGSVGElement>) {\n  return (\n    <svg\n      fill=\"none\"\n      viewBox=\"0 0 240 117\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      role=\"img\"\n      aria-label=\"Dark\"\n      {...props}\n    >\n      <path\n        d=\"M12 0.5H228C234.351 0.5 239.5 5.64873 239.5 12V105C239.5 111.351 234.351 116.5 228 116.5H12C5.64873 116.5 0.5 111.351 0.5 105V12C0.5 5.64873 5.64873 0.5 12 0.5Z\"\n        fill=\"black\"\n      />\n      <path\n        d=\"M12 0.5H228C234.351 0.5 239.5 5.64873 239.5 12V105C239.5 111.351 234.351 116.5 228 116.5H12C5.64873 116.5 0.5 111.351 0.5 105V12C0.5 5.64873 5.64873 0.5 12 0.5Z\"\n        stroke=\"#3F3F46\"\n      />\n      <path\n        d=\"M32 48.5C32 45.4624 34.4624 43 37.5 43H67.5C70.5376 43 73 45.4624 73 48.5C73 51.5376 70.5376 54 67.5 54H37.5C34.4624 54 32 51.5376 32 48.5Z\"\n        fill=\"#27272A\"\n      />\n      <path\n        d=\"M17 105C17 101.686 19.6863 99 23 99H67C70.3137 99 73 101.686 73 105C73 108.314 70.3137 111 67 111H23C19.6863 111 17 108.314 17 105Z\"\n        fill=\"#27272A\"\n      />\n      <path\n        d=\"M88 25.5C88 22.4624 90.4624 20 93.5 20H207.5C210.538 20 213 22.4624 213 25.5C213 28.5376 210.538 31 207.5 31H93.5C90.4624 31 88 28.5376 88 25.5Z\"\n        fill=\"#3F3F46\"\n      />\n      <path\n        d=\"M88 105C88 101.686 90.6863 99 94 99H189C192.314 99 195 101.686 195 105C195 108.314 192.314 111 189 111H94C90.6863 111 88 108.314 88 105Z\"\n        fill=\"#27272A\"\n      />\n      <path\n        d=\"M88 51C88 46.5817 91.5817 43 96 43H221C225.418 43 229 46.5817 229 51V85C229 89.4183 225.418 93 221 93H96C91.5817 93 88 89.4183 88 85V51Z\"\n        fill=\"#27272A\"\n      />\n      <path\n        d=\"M17 48.5C17 45.4624 19.4624 43 22.5 43C25.5376 43 28 45.4624 28 48.5C28 51.5376 25.5376 54 22.5 54C19.4624 54 17 51.5376 17 48.5Z\"\n        fill=\"#27272A\"\n      />\n      <path\n        d=\"M17 66.5C17 63.4624 19.4624 61 22.5 61C25.5376 61 28 63.4624 28 66.5C28 69.5376 25.5376 72 22.5 72C19.4624 72 17 69.5376 17 66.5Z\"\n        fill=\"#27272A\"\n      />\n      <path\n        d=\"M17 86.5C17 83.4624 19.4624 81 22.5 81C25.5376 81 28 83.4624 28 86.5V87.5C28 90.5376 25.5376 93 22.5 93C19.4624 93 17 90.5376 17 87.5V86.5Z\"\n        fill=\"#27272A\"\n      />\n      <path\n        d=\"M32 25.5C32 22.4624 34.4624 20 37.5 20H67.5C70.5376 20 73 22.4624 73 25.5C73 28.5376 70.5376 31 67.5 31H37.5C34.4624 31 32 28.5376 32 25.5Z\"\n        fill=\"#3F3F46\"\n      />\n      <path\n        d=\"M32 66.5C32 63.4624 34.4624 61 37.5 61H67.5C70.5376 61 73 63.4624 73 66.5C73 69.5376 70.5376 72 67.5 72H37.5C34.4624 72 32 69.5376 32 66.5Z\"\n        fill=\"#27272A\"\n      />\n      <path\n        d=\"M32 87C32 83.6863 34.6863 81 38 81H67C70.3137 81 73 83.6863 73 87C73 90.3137 70.3137 93 67 93H38C34.6863 93 32 90.3137 32 87Z\"\n        fill=\"#27272A\"\n      />\n      <circle cx=\"22.5\" cy=\"25.5\" fill=\"#3F3F46\" r=\"5.5\" />\n    </svg>\n  )\n}\n\n/**\n * Renders a theme selector card with visual theme previews.\n *\n * Displays a card containing radio buttons for selecting between system, light,\n * and dark themes. Each option shows a visual preview of the theme. Only renders\n * if theme settings are configured (theme, setTheme, and themes are provided).\n *\n * @param className - Optional additional CSS class names for the card container.\n * @param config - Auth-related props forwarded to access theme settings.\n * @returns A JSX element containing the theme selector card, or null if theme settings are not configured.\n */\nexport function Appearance({ className, ...config }: AppearanceProps) {\n  const context = useAuth(config)\n  const {\n    localization,\n    settings: { theme, setTheme, themes }\n  } = context\n\n  const hydrated = useHydrated()\n\n  if (!setTheme || !themes?.length) {\n    return null\n  }\n\n  return (\n    <Card className={cn(\"py-4 md:py-6 gap-4 md:gap-6\", className)}>\n      <CardHeader className=\"px-4 md:px-6 gap-0\">\n        <CardTitle className=\"text-xl\">\n          {localization.settings.appearance}\n        </CardTitle>\n      </CardHeader>\n\n      <CardContent className=\"px-4 md:px-6\">\n        <Label className=\"mb-4\">{localization.settings.theme}</Label>\n\n        <RadioGroup\n          value={hydrated ? theme : \"\"}\n          onValueChange={setTheme}\n          className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-3\"\n        >\n          {themes.includes(\"system\") && (\n            <FieldLabel htmlFor=\"system\">\n              <Field orientation=\"horizontal\">\n                <FieldContent className=\"gap-3\">\n                  <FieldTitle>\n                    <Monitor className=\"size-4 text-muted-foreground\" />\n                    {localization.settings.system}\n                  </FieldTitle>\n\n                  <ThemePreviewSystem className=\"w-full\" />\n                </FieldContent>\n\n                <RadioGroupItem value=\"system\" id=\"system\" />\n              </Field>\n            </FieldLabel>\n          )}\n\n          {themes.includes(\"light\") && (\n            <FieldLabel htmlFor=\"light\">\n              <Field orientation=\"horizontal\">\n                <FieldContent className=\"gap-3\">\n                  <FieldTitle>\n                    <Sun className=\"size-4 text-muted-foreground\" />\n\n                    {localization.settings.light}\n                  </FieldTitle>\n\n                  <ThemePreviewLight className=\"w-full\" />\n                </FieldContent>\n\n                <RadioGroupItem value=\"light\" id=\"light\" />\n              </Field>\n            </FieldLabel>\n          )}\n\n          {themes.includes(\"dark\") && (\n            <FieldLabel htmlFor=\"dark\">\n              <Field orientation=\"horizontal\">\n                <FieldContent className=\"gap-3\">\n                  <FieldTitle>\n                    <Moon className=\"size-4 text-muted-foreground\" />\n\n                    {localization.settings.dark}\n                  </FieldTitle>\n                  <ThemePreviewDark className=\"w-full\" />\n                </FieldContent>\n\n                <RadioGroupItem value=\"dark\" id=\"dark\" />\n              </Field>\n            </FieldLabel>\n          )}\n        </RadioGroup>\n      </CardContent>\n    </Card>\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/hooks/auth/use-auth.tsx",
      "content": "import {\n  type AnyAuthConfig,\n  type AuthConfig,\n  AuthContext\n} from \"@better-auth-ui/react\"\nimport { deepmerge, defaultConfig } from \"@better-auth-ui/react/core\"\nimport { useContext } from \"react\"\nimport { toast } from \"sonner\"\n\nconst extendConfig: AnyAuthConfig = {\n  toast,\n  Link: (props) => <a {...props} />\n}\n\n/**\n * Constructs the effective AuthConfig by merging defaults, any AuthContext-provided config, and the optional `config` overrides.\n *\n * @param config - Partial configuration overrides applied on top of context and defaults\n * @returns The final `AuthConfig` with a non-optional `authClient`\n * @throws If the resulting config does not include an `authClient`\n */\nexport function useAuth(config?: AnyAuthConfig) {\n  const context = useContext(AuthContext)\n\n  const authConfig = deepmerge(\n    deepmerge(defaultConfig as AnyAuthConfig, extendConfig),\n    deepmerge(context || {}, config || {})\n  ) as AuthConfig\n\n  if (authConfig.authClient === undefined) {\n    throw new Error(\"[Better Auth UI] authClient is required\")\n  }\n\n  return authConfig\n}\n",
      "type": "registry:hook"
    },
    {
      "path": "src/hooks/use-hydrated.ts",
      "content": "\"use client\"\n\nimport { useSyncExternalStore } from \"react\"\n\n/**\n * Indicates whether the current rendering context is hydrated (client-side).\n *\n * @returns `true` when running on the client (hydrated), `false` when rendering on the server\n */\nexport function useHydrated() {\n  return useSyncExternalStore(\n    subscribe,\n    () => true,\n    () => false\n  )\n}\n\n/**\n * Create a subscription handler that does nothing and returns a no-op cleanup.\n *\n * @returns A cleanup function that performs no action when invoked.\n */\nfunction subscribe() {\n  return () => {}\n}\n",
      "type": "registry:hook"
    }
  ],
  "type": "registry:component"
}